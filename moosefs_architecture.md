## MooseFS.

### Описание.
MooseFS — отказоустойчивая, распределенная сетевая файловая система. Она распределяет данные между несколькими физическими серверами, которые видны для пользователя как один источник. Стандартные файловые операции MooseFS выполняет как и другие Unix-подобные файловые системы:
Иерархическая структура (дерево каталогов)
Хранит POSIX атрибуты файла (права доступа, последнее обращение и время изменения)
Поддержка специальных файлов (блочных и символьных устройств, каналов и сокетов)
Символические ссылки (имена файлов, указывающие на целевые файлы, не обязательно на MooseFS) и жесткие ссылки (различные имена файлов, которые относятся к тем же данным на MooseFS)
Доступ к файловой системе могут быть ограничены на основе IP-адреса и / или пароля

### ОС.
MooseFS работает на всех ОС, поддерживающих FUSE:
- Linux
- FreeBSD
- OpenSolaris
- Mac OS X

### Ограничения.
- Максимальный размер базы данных: 2⁶⁴ = 16 эксбибайтов = 16384 пебибайта
- Максимальный размер отдельного файла: 2^57 = 128 пебибайтов
- Максимальное количество файлов в одной инстанции MooseFS: 2²⁹ = 536 миллионов
- Количество подсоединений активных клиентов не ограничено и зависит от количества файловых дескрипторов в системе.

### Лицензия.
Лицензия: GNU General Public License v2

Существует два издания данной файловой системы: MooseFS и Moose Fs Pro. Отличие между ними состоит в большом наборе опций для Master Server и в более широком спекторе поддержки.

### Отличительные особенности Moose FS:
- Высокая надежность (несколько копий файлов может быть распределенны по отдельным копьюетрам)
- Доступный объем динамически расширяется при добавлении свободных компьютеров/дисков
- Удаленные файлы хранятся в течение установленного периода времени.

### Состав.
MooseFS состоит из четырех компонентов:
Управление сервером (master server) – произвольная машина, управляющая всей файловой системой, хранением метаданных для каждого файла (информация о размерах, атрибуты и расположение(я) файла, включая всю информацию о нерегулярных файлах, т.е. директориях, сокетах, потоках и устройствах).
Серверы данных (chunk servers) - любое число стандартных серверов, хранящих данные файлы и синхронизирующих их между собой (если допускается существование определенного в более чем в одном экземпляре).
Сервер(а) резервного копирования метаданных (metalogger server) - любое количество серверов, каждый из которых хранит список изменений метаданных и периодически загружает основной файл метаданных. Таким образом, metalogger server будет в роли управляющего сервера, если основной master перестанет работать.
Компьютеры клиентов, которые обращаются к (монтируют) файлы в MooseFS - любое количество машин, использующих mfsmount чтобы взаимодействовать с управляющим сервером (получать и изменять метаданные файлов) и с chunkservers (для обмена актуальными данными файлов).

### Отказоустойчивость. 
Существует команда, которая позволяет администратору устанавливать “goal” или число копий, которые должны поддерживаться Устанавливая goal больше 1 и хранение данных более чем на одном сервере обеспечит отказоустойчивость. Когда данные файла хранятся в большом числе копий (на более чем одном сервере данных), система устойчива к сбоям или временным сетевым перебоям в работе произвольного сервера данных.
Если goal = 1, данные хранятся на одном сервере данных и система будет неустойчива. Особо важным файлам следует устанавливать goal > 2. В общем число доступных копий должно превышать число возможных недоступных или неработающих серверов.
В случае, если на одном из серверов данных, на котором хранится некоторый файл, происходит сбой или перебои в сети, данный файл будет доступен из других серверов данных, а файл будет перемещен на другой доступный сервер данных.
Новый сервер данных может быть подключен в любое время. Новый объем памяти станет немедленно доступен для хранения новых файлов и для перемещения копий файлов с других серверов данных.
Фрагменты данных, хранящихся в chunks следят за изменением версий. Таким образом повторное подключение сервера данных с более старой копией данных (например, если он был не в сети некоторый период времени) не станет причиной не когерентности файлов. Сервер данных синхронизируется для того, чтобы содержать текущие версии фрагментов данных. Устаревшие фрагменты будут удалены, а свободное место будет перераспределено для хранения новых фрагментов данных.
Ошибки на машине клиента не повлияют на когерентность файловой системы или на другие операции клиентов. В худшем случае изменения данных, которые еще не были отправлены с отказавшего клиентского сервера могут быть потеряны.
